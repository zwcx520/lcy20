<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <link rel="stylesheet" href="https://lcy20.netlify.app/yyts.css">
      <link rel="stylesheet" href="https://lcy20.netlify.app/lianxierweima.css">
  <link rel="stylesheet" href="denglu.css">
    <title>归档-时光卷轴</title>  
    <style>
    .dh{
      position:absolute;
      top:1px;
      left:10px;
      text-align:center;
      padding:5px;
      border-radius:0px 10px 10px 10px;
      padding-bottom:15px;
      padding-top:15px;
      text-align:left;
      color:#fff;
      }
     .dh0{
      position:absolute;
      top:1px;
      right:10px;
      text-align:center;
      padding:5px;
      border-radius:0px 10px 10px 10px;
      padding-bottom:15px;
      padding-top:15px;
      text-align:left;
      color:#fff;
      }
    .app{
      vertical-align: middle;
      width:20px;
      }
     .dh1{
      position:absolute;
      bottom:130px;
      left:20px;
      width:20%;
      background-color:#ffe2e2;
      text-align:center;
      padding:5px;
      border-radius:0px 10px 10px 0px;
     
      } 
    .dh2{
      position:absolute;
      bottom:100px;
      left:20px;
      width:20%;
      background-color:#ffe2e2;
      text-align:center;
      padding:5px;
      border-radius:0px 10px 10px 0px;
     
      }
    .sj{
      position:absolute;
      bottom:2%;
      
      padding:5px;
      border-radius:10px 10px 10px 10px;
     
      } 
    .bjyy{
      position:absolute;
      
      padding:5px;
      border-radius:0px 10px 10px 0px;
     
      }
    /*网络监测弹窗 自定义弹窗样式 */
   .custom-alert {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: yellow;
      color: red;
      padding: 20px;
      border: 1px solid #ccc;
      z-index: 1000;
      border-radius: 5%;
    }
  body{
background-image: url(https://lcy20.netlify.app/bj.gif);
      background-size: cover; /* 修改为cover，使图片铺满满屏 */
      background-attachment: fixed; /* 可选，使背景图片固定不随页面滚动 */
      margin: 0; /* 去除默认边距 */
      padding: 0; /* 去除默认内边距 */
    }
  </style>
    
</head>

<body >
  <div class="card">
        <!-- 登录页面 -->
        <div id="loginTab" class="tab-content active">
            <h2 class="page-title">用户登录</h2>
            <form>
                <div class="form-group">
                    <input type="text" id="loginUsername" class="input-field" required>
                    <label for="loginUsername" class="input-label">用户名:</label>
                </div>

                <div class="form-group">
                    <input type="password" id="loginPassword" class="input-field" required>
                    <label for="loginPassword" class="input-label">密码:</label>
                </div>

                <button type="button" class="submit-btn" onclick="handleLogin()">登录</button>
            </form>

            <div class="switch-link">
                还没有账号？ <a href="javascript:showTab('registerTab')">立即注册</a>
            </div>

            <div class="switch-link">
                忘记密码？ <a href="javascript:showTab('forgotTab')">找回密码</a>
            </div>

            <div id="loginError" class="error-message"></div>
        </div>

        <!-- 注册页面 -->
        <div id="registerTab" class="tab-content">
            <h2 class="page-title">用户注册</h2>
            <form>
                <div class="form-group">
                    <input type="text" id="registerUsername" class="input-field" required>
                    <label for="registerUsername" class="input-label">用户名:</label>
                    <div id="usernameError" class="error-message"></div>
                </div>

                <div class="form-group">
                    <input type="password" id="registerPassword" class="input-field" required minlength="6">
                    <label for="registerPassword" class="input-label">密码:（至少1位）</label>
                </div>

                <div class="form-group captcha-container">
                    <input type="text" id="captchaInput" class="input-field" required placeholder="请输入验证码">
                    <span id="captcha" class="input-field" onclick="refreshCaptcha()"></span>
                </div>

                <button type="button" class="submit-btn" onclick="handleRegister()">注册</button>
            </form>

            <div class="switch-link">
                已有账号？ <a href="javascript:showTab('loginTab')">返回登录</a>
            </div>

            <div id="registerError" class="error-message"></div>
        </div>

        <!-- 忘记密码页面 -->
        <div id="forgotTab" class="tab-content">
            <h2 class="page-title">找回密码</h2>
            <form>
                <div class="form-group">
                    <input type="text" id="forgotUsername" class="input-field" required>
                    <label for="forgotUsername" class="input-label">用户名:</label>
                </div>

                <button type="button" class="submit-btn" onclick="handleForgotPassword()">获取新密码</button>
            </form>

            <div class="switch-link">
                返回登录 <a href="javascript:showTab('loginTab')">点击这里</a>
            </div>

            <div id="forgotError" class="error-message"></div>
            <div id="newPasswordMsg" class="error-message" style="color: #2ecc71;"></div>
        </div>
    </div>
    
    <div class="dh">
    <p><img class="app" src="https://lcy20.netlify.app/app.jpg"/>归档-时光卷轴</p>
     </div>  
      <div class="dh0">
    <p><img class="app" src="https://lcy20.netlify.app/app.jpg"/>APP v1.7</p>
     </div>
    <div class="dh1"> <a href="https://lcy20.netlify.app/wode.html"> <p>作者简介</p></a>
    </div> 
    <div class="dh2"> <a href="rzzq.png"> <p>著作权证</p></a>
    </div>
 
      <div class="sj" style="font-size:20px;color:#fff"><span id="runtime_span"></span></div>
   
    
  <div style="font-size: 70%;color:#000000;position: fixed;  bottom: 0; width: 100%;list-style-type: none;margin: 0;  padding: 0; overflow: hidden;z-index: 9999; background:linear-gradient(to left,rgb(198, 255, 221), rgb(251, 215, 134) );text-align: center;"><a href='https://lcy20.netlify.app/gonggao'>APP版本1.5及公告</a>&nbsp;&nbsp; <a href='gdq/index.html'>游戏</a>&nbsp;&nbsp;[2024·9] ©  追吻辰星 ICP 未备案 <hr /></div> 
       </div>
 <a href="https://lcy20.netlify.app/lianxierweima.jpg"> <img class="image" alt="联系二维码" src="https://lcy20.netlify.app/lianxierweima.jpg"/>
      </a>  
      <audio autoplay="true"  loop="loop" src="https://lcy20.netlify.app/yy.mp3"></audio>
      
      
       <div class="bjyy" id="targetDiv"></div>
       
        <script src="https://lcy20.netlify.app/yyts.js"></script>
  <script src="https://lcy20.netlify.app/user.js"></script>
    <script>
  function show_runtime() {
    window.setTimeout("show_runtime()", 1000);
    X = new Date("2024/06/25 00:00");
    Y = new Date();
    T = (Y.getTime() - X.getTime());
    M = 24 * 60 * 60 * 1000;
    a = T / M;
    A = Math.floor(a);
    b = (a - A) * 24;
    B = Math.floor(b);
    c = (b - B) * 60;
    C = Math.floor((b - B) * 60);
    D = Math.floor((c - C) * 60);
    runtime_span.innerHTML = "归档运行: " + A + "天" + B + "小时" + C + "分" + D + "秒"
  }
  show_runtime();

  function generateQuotes() {
    const apiUrl = '';
    return fetch(apiUrl)
     .then(response => response.json())
     .then(data => {
        const quote = data.hitokoto;
        return quote;
      })
  }

  async function createCard() {
    const cardContainer = document.getElementById('cardContainer');
    cardContainer.innerHTML = '';

    for (let i = 0; i < 1; i++) {
      const quote = await generateQuotes();
      const card = document.createElement('div');
      card.classList.add('card');
      card.textContent = quote;

      const copyButton = document.createElement('button');
      copyButton.classList.add('copy-button')

      copyButton.addEventListener('click', () => {
        copyToClipboard(quote, card);
      });

      cardContainer.appendChild(card);
    }
  }

  function restart() {
    createCard();
  }
  createCard();

  function toggleSidebar() {
    const sidebar = document.getElementById('sidebar');
    sidebar.classList.toggle('open');
    const overlay = document.getElementById('overlay');
    overlay.classList.toggle('show');
  }
</script>

<script>
  function showCustomAlert(message) {
    const alertDiv = document.createElement('div');
    alertDiv.className = 'custom-alert';
    alertDiv.textContent = message;
    document.body.appendChild(alertDiv);
    setTimeout(() => {
      document.body.removeChild(alertDiv);
    }, 3000); // 3秒后自动关闭弹窗
  }

  // 页面加载时先检查网络状态
  if (navigator.onLine === false) {
    showCustomAlert('网络已断开，请检查您的网络连接（可能没有 Wi-Fi 或移动数据等网络连接）');
  }

  // 监听网络断开事件
  window.addEventListener('offline', function () {
    showCustomAlert('网络已断开，请检查您的网络连接（可能没有 Wi-Fi 或移动数据等网络连接）');
  });

  // 监听网络连接事件
  window.addEventListener('online', function () {
    showCustomAlert('网络已连接成功！');
    location.reload(); // 添加这行代码，在网络连接成功时刷新页面
  });
</script>
</body>

